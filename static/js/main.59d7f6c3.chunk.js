(this["webpackJsonpdatabase-rick-n-morty"]=this["webpackJsonpdatabase-rick-n-morty"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(9),s=a.n(r),i=(a(16),a(8)),o=a.n(i),u=a(10),h=a(3),l=a(4),d=a(6),j=a(5),b=(a(18),a(19),a.p+"static/media/logo.b62096f7.png"),f=a(0);var p=function(){return Object(f.jsx)("div",{className:"header",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)("img",{src:b,alt:"logo"})})})},g=a(11),O=(a(21),a(22),a(2)),m=a.n(O);function v(e){var t=e.character,a=e.isSelected,n=e.onSelectChange,c=a?"selected":"";return Object(f.jsxs)("div",{className:"card "+c,children:[Object(f.jsx)("img",{src:t.image,alt:t.name}),Object(f.jsxs)("div",{className:"card-info",children:[Object(f.jsxs)("p",{class:"card-info__name",children:[Object(f.jsx)("span",{children:"Name:"}),t.name]}),Object(f.jsxs)("p",{className:"card-info__generic",children:[t.species," ",Object(f.jsx)("span",{className:"card-info__generic",children:"from"})," ",t.location.name]})]}),Object(f.jsx)("button",{className:"favorite",onClick:function(){n(t.id,a)},children:a?"Remove":"Add"})]})}v.prototype={character:m.a.object.isRequired,isSelected:m.a.bool.isRequired,onSelectChange:m.a.func.isRequired};var x=v,C=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).onSelectChange=function(t,a){var n=Object(g.a)(e.state.favorite);a?n=n.filter((function(e){return e!==t})):n.push(t),e.setState({favorite:n})},e.state={favorite:[]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.characters,n=t.isLoading,c=this.state.favorite;return Object(f.jsxs)("div",{className:"container grid",children:[a.map((function(t){return Object(f.jsx)(x,{character:t,isSelected:c.includes(t.id),onSelectChange:e.onSelectChange},t.id)})),n&&Object(f.jsx)("div",{className:"loading",children:Object(f.jsx)("p",{children:"Loading..."})})]})}}]),a}(c.a.Component);C.propType={characters:m.a.array.isRequired,isLoading:m.a.bool.isRequired};var S=C,y=(a(25),function(e){var t=e.currentPage,a=e.onChange,n=e.totalPages;return Object(f.jsxs)("div",{className:"container paginator",children:[Object(f.jsx)("button",{onClick:function(){var e=t-1;e>0&&a(e)},children:"Prev"}),Object(f.jsxs)("p",{children:["Page ",Object(f.jsx)("span",{children:t})," of ",n]}),Object(f.jsx)("button",{onClick:function(){var e=t+1;e<=n&&a(e)},children:"Next"})]})}),P=(a(26),function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).onInputChange=function(t){e.setState({searchKey:t.target.value})},e.onClickSubmit=function(){e.props.onSubmit(e.state.searchKey)},e.state={searchKey:""},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"container searchBox",children:[Object(f.jsx)("input",{type:"text",placeholder:"Search",onChange:this.onInputChange}),Object(f.jsx)("button",{onClick:this.onClickSubmit,children:">"})]})}}]),a}(c.a.Component)),k=function(e){Object(d.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).componentDidMount=function(){e.fetchCharacters()},e.componentDidUpdate=function(t,a){a.currentPage===e.state.currentPage&&a.searchKey===e.state.searchKey||e.fetchCharacters()},e.fetchCharacters=Object(u.a)(o.a.mark((function t(){var a,n,c,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoading:!0}),a=new URL("https://rickandmortyapi.com/api/character"),n={page:e.state.currentPage,name:e.state.searchKey},Object.keys(n).forEach((function(e){return a.searchParams.append(e,n[e])})),t.next=7,fetch(a);case 7:return c=t.sent,t.next=10,c.json();case 10:r=t.sent,e.setState({characters:r.results,totalPages:r.info.pages}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:return t.prev=17,e.setState({isLoading:!1}),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[0,14,17,20]])}))),e.onPaginatorChange=function(t){e.setState({currentPage:t})},e.onSubmit=function(t){e.setState({searchKey:t})},e.state={searchKey:"",totalPages:1,currentPage:1,isLoading:!1,characters:[]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.characters,a=e.isLoading,n=e.currentPage,c=e.totalPages;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(p,{}),Object(f.jsx)(P,{onSubmit:this.onSubmit}),Object(f.jsx)(S,{characters:t,isLoading:a}),Object(f.jsx)(y,{currentPage:n,onChange:this.onPaginatorChange,totalPages:c})]})}}]),a}(c.a.Component);s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.59d7f6c3.chunk.js.map